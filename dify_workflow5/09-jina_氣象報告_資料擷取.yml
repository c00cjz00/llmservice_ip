app:
  description: ''
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: workflow
  name: 09-jina_æ°£è±¡å ±å‘Š_è³‡æ–™æ“·å–
  use_icon_as_answer_icon: false
kind: app
version: 0.1.3
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 10
        file_size_limit: 50
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: false
        sourceType: start
        targetType: tool
      id: 1733021536759-source-1733021583732-target
      source: '1733021536759'
      sourceHandle: source
      target: '1733021583732'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: tool
        targetType: code
      id: 1733021583732-source-1733021859618-target
      source: '1733021583732'
      sourceHandle: source
      target: '1733021859618'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: llm
      id: 1733021859618-source-1733022213058-target
      source: '1733021859618'
      sourceHandle: source
      target: '1733022213058'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: end
      id: 1733022213058-source-1733021887906-target
      source: '1733022213058'
      sourceHandle: source
      target: '1733021887906'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: é–‹å§‹
        type: start
        variables:
        - label: 'url: https://www.cwa.gov.tw/V8/C/W/index.html'
          max_length: null
          options: []
          required: true
          type: text-input
          variable: url
        - label: æ€è€ƒèªç³»
          max_length: 48
          options:
          - Chinese (zh-TW)
          - English
          required: true
          type: select
          variable: language
      height: 115
      id: '1733021536759'
      position:
        x: 80
        y: 282
      positionAbsolute:
        x: 80
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        desc: ''
        provider_id: jina
        provider_name: jina
        provider_type: builtin
        selected: false
        title: Fetch Single Page
        tool_configurations:
          gather_all_images_at_the_end: 0
          gather_all_links_at_the_end: 0
          image_caption: 0
          max_retries: 3
          no_cache: 0
          proxy_server: null
          summary: 0
          target_selector: null
          wait_for_selector: null
        tool_label: Fetch Single Page
        tool_name: jina_reader
        tool_parameters:
          url:
            type: mixed
            value: '{{#1733021536759.url#}}'
        type: tool
      height: 297
      id: '1733021583732'
      position:
        x: 383
        y: 282
      positionAbsolute:
        x: 383
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        code: "def main(text: str) -> dict:\n    import json\n    try:\n        #\
          \ è§£æJSONå­—ç¬¦ä¸²\n        parsed_data = json.loads(text)\n        # ä»dataå­—æ®µä¸­æå–content\n\
          \        content = parsed_data.get(\"data\", {}).get(\"content\", \"\")\n\
          \        return {\n            \"result\": content\n        }\n    except\
          \ json.JSONDecodeError:\n        return {\n            \"result\": \"\"\n\
          \        }"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: ä»£ç¢¼åŸ·è¡Œ
        type: code
        variables:
        - value_selector:
          - '1733021583732'
          - text
          variable: text
      height: 53
      id: '1733021859618'
      position:
        x: 686
        y: 282
      positionAbsolute:
        x: 686
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        desc: ''
        outputs:
        - value_selector:
          - '1733022213058'
          - text
          variable: result
        selected: false
        title: çµæŸ
        type: end
      height: 89
      id: '1733021887906'
      position:
        x: 1541.5317566706433
        y: 310.16828563418966
      positionAbsolute:
        x: 1541.5317566706433
        y: 310.16828563418966
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gpt-4o-mini-2024-07-18
          provider: openai
        prompt_template:
        - id: a1b77b50-7cfc-4695-b591-4651a9805c9b
          role: system
          text: "ä½ æ˜¯ä¸€ä½å°ˆæ¥­çš„æ°£è±¡å ±å‘Šæ•¸æ“šæ•´ç†å°ˆå®¶ï¼Œæ“…é•·å°‡éçµæ§‹åŒ–çš„æ°£è±¡è³‡æ–™è½‰åŒ–ç‚ºç²¾ç¢ºçš„ JSON æ ¼å¼æ•¸æ“šã€‚\nä½ çš„ä»»å‹™æ˜¯é–±è®€ä»¥ä¸‹æä¾›çš„æ°£è±¡å ±å‘Šï¼Œä¸¦æå–å…¶ä¸­çš„é—œéµè³‡è¨Šï¼ˆå¦‚åœ°é»ã€æ—¥æœŸã€æ™‚é–“ã€å¤©æ°£ç‹€æ³ã€æ°£æº«ã€é¢¨é€Ÿã€é™æ°´é‡ç­‰ï¼‰ï¼Œä»¥æ¨™æº–åŒ–çš„\
            \ JSON æ ¼å¼è¼¸å‡ºã€‚\nè«‹éµå®ˆä»¥ä¸‹è¦å‰‡ï¼š\nåƒ…è¼¸å‡ºç¬¦åˆ JSON æ ¼å¼çš„å…§å®¹ï¼Œç¦æ­¢åŒ…å«å¤šé¤˜çš„èªªæ˜ã€è§£é‡‹ã€æˆ–æ ¼å¼åŒ–ç¬¦è™Ÿï¼ˆä¾‹å¦‚ï¼šjson ç­‰ï¼‰ã€‚\n\
            ç¢ºä¿æå–çš„æ•¸æ“šæº–ç¢ºç„¡èª¤ï¼Œä¸¦å°‡ç¼ºå°‘çš„æ•¸æ“šä»¥ null è¡¨ç¤ºã€‚\nå¦‚æœè³‡æ–™ä¸­åŒ…å«å¤šæ¢æ°£è±¡å ±å‘Šï¼Œè«‹å°‡å®ƒå€‘åˆ†åˆ¥çµ„ç¹”ç‚º JSON é™£åˆ—ä¸­çš„å¤šå€‹ç‰©ä»¶ã€‚\n\
            åš´æ ¼æŒ‰ç…§ä»¥ä¸‹ JSON çµæ§‹è¼¸å‡ºï¼š\n{\n  \"language\": \"{{#1733021536759.language#}}\"\
            ,\n  \"reports\": [\n    {\n      \"location\": \"<åœ°é»>\",\n      \"date\"\
            : \"<æ—¥æœŸ>\",\n      \"time\": \"<æ™‚é–“>\",\n      \"weather_condition\": \"\
            <å¤©æ°£ç‹€æ³>\",\n      \"temperature\": \"<æ°£æº«>\",\n      \"wind_speed\": \"\
            <é¢¨é€Ÿ>\",\n      \"precipitation\": \"<é™æ°´é‡>\",\n      \"other_details\"\
            : \"<å…¶ä»–ç›¸é—œè³‡è¨Šæˆ– null>\"\n    }\n  ]\n}\n\n"
        - id: cdb7e37f-bcac-44f0-a475-14c4b70ca5bb
          role: user
          text: 'è¼¸å…¥åƒæ•¸ï¼š

            èªè¨€ï¼š{{#1733021536759.language#}}

            å ±å‘Šå…§å®¹ï¼š{{#1733021859618.result#}}'
        selected: false
        title: LLM
        type: llm
        variables: []
        vision:
          enabled: false
      height: 97
      id: '1733022213058'
      position:
        x: 989
        y: 410
      positionAbsolute:
        x: 989
        y: 410
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        author: c00cjz00
        desc: ''
        height: 88
        selected: false
        showAuthor: true
        text: '{"root":{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"https://www.cwa.gov.tw/V8/C/W/index.html","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0}],"direction":"ltr","format":"","indent":0,"type":"root","version":1}}'
        theme: blue
        title: ''
        type: ''
        width: 240
      height: 88
      id: '1733022325215'
      position:
        x: 1008.8517263775473
        y: 553.5067208091924
      positionAbsolute:
        x: 1008.8517263775473
        y: 553.5067208091924
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom-note
      width: 240
    viewport:
      x: -1111.5608979584983
      y: -24.37644055154624
      zoom: 0.9230496602371923
